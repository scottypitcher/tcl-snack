# Commands covered: sound length
#

package require -exact snack 1.7

if {[lsearch [namespace children] ::tcltest] == -1} {
    package require tcltest
    namespace import ::tcltest::*
}

test length-1.1 {length command, get length in samples} {
  set s [snack::sound snd -load ex1.wav]
  set res [$s length -unit samples]
  $s destroy
  set res
} {15820}

test length-1.2 {length command, set length in samples} {
  set s [snack::sound snd]
  $s length 1000000 -unit samples
  set res [$s length]
  $s destroy
  set res
} {1000000}

test length-1.3 {length command, set length in seconds} {
  set s [snack::sound snd]
  $s length 10 -unit seconds
  set res [$s length]
  $s destroy
  set res
} {160000}

test length-1.4 {length command, get length in seconds} {
  set s [snack::sound snd]
  $s length 16000
  set res [$s length -unit seconds]
  $s destroy
  set res
} {1.0}

# cleanup
::tcltest::cleanupTests
return
